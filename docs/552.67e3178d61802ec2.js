"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[552],{8552:(G,u,i)=>{i.r(u),i.d(u,{CheckListModule:()=>K});var r=i(6895),h=i(8176),k=i(8505),l=i(4006),t=i(4650),m=i(5698);class C{}var f=i(4004),v=i(2340),b=i(529);let F=(()=>{class e{constructor(){this.adapt=n=>Object.assign(new C,{id:n?.id,title:n?.title,description:n?.description,checked:n?.checked}),this.adaptArray=n=>n.map(s=>this.adapt(s))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),L=(()=>{class e{constructor(n,s){this.httpClient=n,this.taskAdapter=s,this.taskUrl=`${v.N.taskResource}/task`}saveNewTaskApi(n){return this.httpClient.post(this.taskUrl,n).pipe((0,f.U)(s=>this.taskAdapter.adapt(s)))}getTasksApi(){return this.httpClient.get(this.taskUrl).pipe((0,f.U)(n=>this.taskAdapter.adaptArray(n)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(b.eN),t.LFG(F))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=i(7579),x=i(1135);let y=(()=>{class e{constructor(){this._task$=new N.x,this._tasks$=new x.X([])}setTask(n){this._task$.next(n)}getTask$(){return this._task$.asObservable()}setTasks(n){this._tasks$.next(n)}getTasks$(){return this._tasks$.asObservable()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{constructor(n,s){this.taskService=n,this.taskState=s,this.tasks$=this.taskState.getTasks$()}refleshTasks(){this.taskService.getTasksApi().subscribe(n=>this.taskState.setTasks(n))}saveNewTask(n){const s=new C;return s.title=n,this.taskService.saveNewTaskApi(s).pipe((0,k.b)(c=>this.addNewTaskAction(c)))}addNewTaskAction(n){this.tasks$.pipe((0,m.q)(1)).subscribe(s=>this.addTaskToList(n,s))}addTaskToList(n,s){this.taskState.setTasks([n,...s])}removeTask(n){this.tasks$.pipe((0,m.q)(1)).subscribe(s=>this.taskState.setTasks([...s].filter(c=>c.id!==n.id)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(L),t.LFG(y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var a=i(5102);let A=(()=>{class e{constructor(n){this.host=n}ngAfterViewInit(){this.host.nativeElement.focus()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq))},e.\u0275dir=t.lG2({type:e,selectors:[["","appInputFocus",""]]}),e})();function w(e,o){if(1&e&&t._UZ(0,"nb-badge",3),2&e){const n=t.oxw();t.s9C("status",n.charsAvailable>n.maxLen?"danger":"success"),t.hYB("text","",n.maxLen-n.charsAvailable,"/",n.maxLen,"")}}let I=(()=>{class e{constructor(n,s){this.taskFacades=n,this.dialgoRef=s,this.maxLen=70,this.minLen=4,this.charsAvailable=0,this.taskNameFmCtrl=new l.NI("",[l.kI.required,l.kI.minLength(this.minLen),l.kI.maxLength(this.maxLen)]),this.taskNameFmCtrl.valueChanges.pipe((0,k.b)(c=>{c&&"string"==typeof c&&(this.charsAvailable=c.length)})).subscribe()}onSaveNewTask(){this.taskNameFmCtrl.valid&&null!==this.taskNameFmCtrl.value&&this.taskFacades.saveNewTask(this.taskNameFmCtrl.value).subscribe(n=>this.dialgoRef.close(n))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(a.X4l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-check-list-form-new"]],decls:9,vars:4,consts:[[3,"status","text",4,"ngIf"],["nbInput","","fullWidth","","appInputFocus","",3,"status","formControl"],["nbButton","","fullWidth","","status","primary",3,"disabled","click"],[3,"status","text"]],template:function(n,s){1&n&&(t.TgZ(0,"nb-card")(1,"nb-card-header"),t._uU(2," ADDING NEW TASK "),t.qZA(),t.TgZ(3,"nb-card-body"),t.YNc(4,w,1,3,"nb-badge",0),t._UZ(5,"textarea",1),t.qZA(),t.TgZ(6,"nb-card-footer")(7,"button",2),t.NdJ("click",function(){return s.onSaveNewTask()}),t._uU(8," save "),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",s.charsAvailable>s.maxLen-10),t.xp6(1),t.Q6J("status",s.taskNameFmCtrl.valid?"success":"danger")("formControl",s.taskNameFmCtrl),t.xp6(2),t.Q6J("disabled",s.taskNameFmCtrl.invalid))},dependencies:[r.O5,a.DPz,a.Asz,a.yKW,a.XWE,a.ndF,a.h8i,l.Fj,l.JJ,l.oH,a.nhe,A],styles:["nb-card[_ngcontent-%COMP%]{width:400px}"]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-content-not-found"]],decls:2,vars:0,template:function(n,s){1&n&&(t.TgZ(0,"p"),t._uU(1," No items found! "),t.qZA())},styles:["*[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{color:#777}"]}),e})(),_=(()=>{class e{constructor(){this.clicked=new t.vpe,this.icon="plus-outline"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-floating-button"]],inputs:{icon:"icon"},outputs:{clicked:"clicked"},decls:3,vars:1,consts:[["nbButton","","shape","round","hero","","size","giant","status","info",3,"click"],[3,"icon"]],template:function(n,s){1&n&&(t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(){return s.clicked.emit()}),t._UZ(2,"nb-icon",1),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("icon",s.icon))},dependencies:[a.DPz,a.fMN],styles:["div[_ngcontent-%COMP%]{margin:0;inset:auto 20px 20px auto;position:fixed}"]}),e})();function M(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"nb-checkbox",4),t.NdJ("checkedChange",function(c){const p=t.CHM(n).task;return t.KtG(p.checked=c)}),t.TgZ(1,"span",5),t._uU(2),t.qZA()()}if(2&e){const n=o.task;t.Q6J("checked",n.checked),t.xp6(2),t.Oqu(n.title)}}function O(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"nb-checkbox",6),t.NdJ("checkedChange",function(c){const p=t.CHM(n).task;return t.KtG(p.checked=c)}),t.TgZ(1,"span"),t._uU(2),t.qZA()(),t.TgZ(3,"button",7),t.NdJ("click",function(){const d=t.CHM(n).task,p=t.oxw(2);return t.KtG(p.removeTaskClicked.emit(d))}),t._UZ(4,"nb-icon",8),t.qZA()}if(2&e){const n=o.task;t.Q6J("checked",n.checked),t.xp6(2),t.Oqu(n.title)}}const Z=function(e){return{task:e}};function S(e,o){if(1&e&&(t.TgZ(0,"div"),t.GkF(1,1),t.YNc(2,M,3,2,"ng-template",null,2,t.W1O),t.YNc(4,O,5,2,"ng-template",null,3,t.W1O),t.qZA()),2&e){const n=t.MAs(3),s=t.MAs(5),c=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",c.task.checked?n:s)("ngTemplateOutletContext",t.VKq(2,Z,c.task))}}let J=(()=>{class e{constructor(){this.removeTaskClicked=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-check-list-item"]],inputs:{task:"task"},outputs:{removeTaskClicked:"removeTaskClicked"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tempTaskChecked",""],["tempTaskUnChecked",""],["status","info",3,"checked","checkedChange"],[1,"item-list-completed"],[3,"checked","checkedChange"],["nbButton","","ghost","","rounded","","status","danger","size","small",3,"click"],["icon","trash-outline"]],template:function(n,s){1&n&&t.YNc(0,S,6,4,"div",0),2&n&&t.Q6J("ngIf",s.task&&s.task.id)},dependencies:[r.O5,r.tP,a.DPz,a.fMN,a.NTf],styles:["div[_ngcontent-%COMP%]{justify-content:space-between}div[_ngcontent-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.item-list-completed[_ngcontent-%COMP%]{text-decoration:line-through;font-style:oblique;color:#777}"]}),e})();function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"nb-list-item")(1,"app-check-list-item",5),t.NdJ("removeTaskClicked",function(){const d=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.onRemoveTask(d))}),t.qZA()()}if(2&e){const n=o.$implicit;t.xp6(1),t.Q6J("task",n)}}function z(e,o){1&e&&t._UZ(0,"app-list-content-not-found")}const B=[{path:"",component:(()=>{class e{constructor(n,s){this.taskFacades=n,this.dialogService=s,this.tasksCounter=0,this.tasks$=this.taskFacades.tasks$.pipe((0,k.b)(c=>this.tasksCounter=c.length))}ngOnInit(){this.taskFacades.refleshTasks()}lauchFormNew(){this.dialogService.open(I)}onRemoveTask(n){this.taskFacades.removeTask(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(a.Gln))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-check-list-container"]],decls:10,vars:4,consts:[[1,"container-center"],[1,"p-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"clicked"],[3,"task","removeTaskClicked"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"nb-card")(2,"nb-card-header"),t._uU(3,"TODO"),t.qZA(),t.TgZ(4,"nb-card-body",1)(5,"nb-list"),t.YNc(6,U,2,1,"nb-list-item",2),t.ALo(7,"async"),t.qZA(),t.YNc(8,z,1,0,"app-list-content-not-found",3),t.qZA()()(),t.TgZ(9,"app-floating-button",4),t.NdJ("clicked",function(){return s.lauchFormNew()}),t.qZA()),2&n&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,2,s.tasks$)),t.xp6(2),t.Q6J("ngIf",0===s.tasksCounter))},dependencies:[r.sg,r.O5,a.Asz,a.yKW,a.ndF,T,_,a.zP_,a.qBV,J,r.Ov],styles:[".container-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:10px}nb-card[_ngcontent-%COMP%]{width:400px}.p-0[_ngcontent-%COMP%]{padding:0}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(B),h.Bz]}),e})();const P=[a.T2N,a.zyh,a.KdK];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,P,a.T2N,a.zyh,a.KdK]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,$,Y,a.COg,a.MfT,a.nKr,l.u5,l.UX,a.jSo,D,a.j7H.forChild()]}),e})()}}]);