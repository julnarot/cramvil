"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[12],{3012:(k,l,i)=>{i.r(l),i.d(l,{AuthModule:()=>b});var s=i(6895),a=i(8176),t=i(4650),r=i(9766);function h(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(o);const u=t.oxw(2);return t.KtG(u.logout())}),t._uU(1," Sign Out "),t.qZA()}}function p(n,e){if(1&n&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"json"),t.qZA(),t.YNc(4,h,2,0,"button",2),t.BQk()),2&n){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,o.token)),t.xp6(2),t.Q6J("ngIf",o.token)}}function g(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"p"),t._uU(1,"You are'nt logged"),t.qZA(),t.TgZ(2,"button",4),t.NdJ("click",function(){t.CHM(o);const u=t.oxw();return t.KtG(u.login())}),t._uU(3,"Sign In"),t.qZA()}}let m=(()=>{class n{constructor(o){this.authService=o,this.token=null,this.authService.onTokenChange().subscribe(c=>{this.token=null,c&&c.isValid()&&(this.token=c)})}login(){this.authService.authenticate("email").subscribe()}logout(){this.authService.logout("email").subscribe()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r._o))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-login"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noLogged",""],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click"],["nbButton","","status","success",3,"click"]],template:function(o,c){if(1&o&&(t.YNc(0,p,5,4,"ng-container",0),t.YNc(1,g,4,0,"ng-template",null,1,t.W1O)),2&o){const u=t.MAs(2);t.Q6J("ngIf",!!c.token)("ngIfElse",u)}},dependencies:[s.O5,s.Ts],encapsulation:2}),n})();var f=i(7579),A=i(2722);const d=[{path:"",component:m},{path:"callback",component:(()=>{class n{constructor(o,c){this.authService=o,this.router=c,this.destroy$=new f.x,this.authService.authenticate("email").pipe((0,A.R)(this.destroy$)).subscribe(u=>{u.isSuccess()&&u.getRedirect()&&this.router.navigateByUrl(u.getRedirect()).then()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r._o),t.Y36(a.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-callback"]],decls:2,vars:0,template:function(o,c){1&o&&(t.TgZ(0,"p"),t._uU(1,"authenticating...."),t.qZA())},encapsulation:2}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(d),a.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,C]}),n})()}}]);